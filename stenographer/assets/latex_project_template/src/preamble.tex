% Preamble split out for maintainability
\documentclass[11pt]{article}

% Page layout and typography
\usepackage[margin=1in]{geometry}
\usepackage{microtype}
\usepackage{iftex}
\ifPDFTeX
  \usepackage[T1]{fontenc}
  \usepackage[utf8]{inputenc}
  \usepackage{lmodern}
\else
  \usepackage{fontspec}
  \setmainfont{Latin Modern Roman}
  \setsansfont{Latin Modern Sans}
  \setmonofont{Latin Modern Mono}
  \usepackage{unicode-math}
  \setmathfont{Latin Modern Math}
\fi

% Math
\usepackage{mathtools}
\usepackage{amssymb}
\usepackage{amsthm}

% Tables
\usepackage{booktabs}
\usepackage{tabularx}
\usepackage{longtable}
\usepackage{multirow}

% Figures and graphics
\usepackage{graphicx}
\usepackage{xcolor}
\usepackage{caption}
\usepackage{subcaption}
\usepackage{float}

% Plots/diagrams (powerful, but optional in content)
\usepackage{tikz}
\usepackage{pgfplots}
\pgfplotsset{compat=1.18}

% References and hyperlinks
\usepackage[
  backend=biber,
  style=numeric,
  sorting=none,
  giveninits=true,
  maxbibnames=99
]{biblatex}
\addbibresource{references.bib}
\usepackage{hyperref}
\usepackage[nameinlink,noabbrev]{cleveref}
\hypersetup{
  colorlinks=true,
  linkcolor=blue,
  citecolor=blue,
  urlcolor=blue
}

% Nice lists
\usepackage{enumitem}
\setlist{nosep}

% Units and numbers
\usepackage{siunitx}
\sisetup{detect-all}

% Theorem environments (optional)
\newtheorem{definition}{Definition}
\newtheorem{theorem}{Theorem}
\newtheorem{lemma}{Lemma}

\input{macros}
